---
title: Monitoring and KPIs for On-Demand RabbitMQ for PCF
owner: London Services
---

[//]: # (Keep changes to this page in sync with monitor.html.md.erb - especially the #rabbit-mq metrics table)

This topic explains how to monitor the health of the on-demand version of the RabbitMQ for Pivotal Cloud Foundry (PCF) service using the logs, metrics, and Key Performance Indicators (KPIs) generated by RabbitMQ for PCF component VMs.

On-demand RabbitMQ for PCF components generate many of the [same metrics](./monitor-pp.html) as the pre-provisioned RabbitMQ service components.

[//]: # (, but with the prefix `p.rabbitmq` instead of `p-rabbitmq`.)

<p class="note"><strong>Note</strong>: As of v1.8.2, on-demand RabbitMQ for PCF emits metrics prefixed with <code>p-rabbitmq</code>. In future releases they will be be prefixed with <code>p.rabbitmq</code> (with a dot), to distinguish them from pre-provisioned service metrics. This is a <a href="./releases.html#18x">known issue</a>.</p>

See [Logging and Metrics](http://docs.pivotal.io/pivotalcf/loggregator/index.html) for general information about logging and metrics in PCF.

## <a id="config"></a>Direct the Logs

As of RabbitMQ for PCF v1.9.0, syslog forwarding is preconfigured and set to on by default.
Pivotal recommends that you keep the default setting because it is good operational practice.
However, you can opt out by selecting **No** for **Do you want to configure syslog?** in the Ops Manager **Settings** tab.

To enable monitoring for RabbitMQ for PCF, operators designate an external syslog endpoint for RabbitMQ component log messages. The endpoint serves as the input to a monitoring platform such as Datadog, Papertrail, or SumoLogic. </br>
    <p class="note"><strong>Note</strong>: In a future release, the endpoint and port will be required.

To specify the destination for RabbitMQ for PCF log messages, do the following:

1. From the Ops Manager Installation Dashboard, click the RabbitMQ tile.
1. In the RabbitMQ tile, click the **Settings** tab.
  ![Ops Manager Syslog Forwarding Configuration](images/syslog-config-1.9.0.png)
1. Click **Syslog**.
1. Enter your syslog address and port.
  ![Configure syslog pane](syslog-config.png)
1. Click **Save**.
1. Return to the Ops Manager Installation Dashboard and click **Apply Changes** to redeploy with the changes.

###<a id="log-format"></a> Logging Format

The logging format does not change in v1.9.0.
For users familiar with documentation for previous versions of the tile, the tag we used to call the `app_name` is now called the `program_name`.
The log format is as follows:

`<PRI>TIMESTAMP IP_ADDRESS PROGRAM_NAME [job=NAME index=JOB_INDEX id=JOB_ID] MESSAGE`

With on-demand RabbitMQ for PCF logging configured, two types of components generate logs: the server nodes and the service broker:

* The logs for RabbitMQ server nodes follow the format <code>[job=rabbitmq-server-partition-GUID index=0]</code>
* The logs for the RabbitMQ service broker follow the format <code>[job=rabbitmq-broker-partition-GUID index=0]</code>

The RabbitMQ VMs log at the <code>info</code> level and capture errors, warnings, and informational messages.

The raw logs look similar to the following:

```
<7>2017-06-28T16:06:10.733560+00:00 10.244.16.133 vcap.agent [job=rmq index=0 id=e37ecdca-5b10-4141-abd8-e1d777dfd8b5]  2017/06/28 16:06:10  CEF:0|CloudFoundry|BOSH|1|agent_api|ssh|1|duser=director.be5a66bb-a9b4-459f-a0d3-1fc5c9c3ed79.be148cc6-91ef-4eed-a788-237b0b8c63b7 src=10.254.50.4 spt=4222 shost=5ae233e0-ecc5-4868-9ae0-f9767571251b
<86>2017-06-28T16:06:16.704572+00:00 10.244.16.133 useradd [job=rmq index=0 id=e37ecdca-5b10-4141-abd8-e1d777dfd8b5]  new group: name=bosh_ly0d2rbjr, GID=1003
<86>2017-06-28T16:06:16.704663+00:00 10.244.16.133 useradd [job=rmq index=0 id=e37ecdca-5b10-4141-abd8-e1d777dfd8b5]  new user: name=bosh_ly0d2rbjr, UID=1001, GID=1003, home=/var/vcap/bosh_ssh/bosh_ly0d2rbjr, shell=/bin/bash
<86>2017-06-28T16:06:16.736932+00:00 10.244.16.133 usermod [job=rmq index=0 id=e37ecdca-5b10-4141-abd8-e1d777dfd8b5]  add 'bosh_ly0d2rbjr' to group 'admin'
<86>2017-06-28T16:06:16.736964+00:00 10.244.16.133 usermod [job=rmq index=0 id=e37ecdca-5b10-4141-abd8-e1d777dfd8b5]  add 'bosh_ly0d2rbjr' to group 'vcap'
```

Logs sent to external logging tools such as Papertrail may be presented in a different format.

The following table describes the logging tags used in this template:

<table class="nice">
  <th>Tag</th>
  <th>Description</th>
  <tr>
    <td><strong>PRI</strong></td>
    <td>This is a value which in future will be used to describe the severity of the log message and which facility it came from.</td>
  </tr>
  <tr>
    <td><strong>TIMESTAMP</strong></td>
    <td>This is the timestamp of when the log is forwarded, for example, <code>2016-08-24T05:14:15.000003Z</code>.
        The timestamp value is typically slightly after when the log message was generated.</td>
  </tr>
  <tr>
    <td><strong>IP_ADDRESS</strong></td>
    <td>The internal IP address of server on which the log message originated</td>
  </tr>
  <tr>
    <td><strong>PROGRAM_NAME</strong></td>
    <td>Process name of the program the generated the message.
        Same as <code>app_name</code> before v1.9.0. 
        For more information about program name, see <a href="#program-names">RabbitMQ Program Names</a> below.</td>
  </tr>
  <tr>
    <td><strong>NAME</strong></td>
    <td>The BOSH instance group name (for example, <code>rabbitmq_server</code>)</td>
  </tr>
  <tr>
    <td><strong>JOB_INDEX</strong></td>
    <td>BOSH job index. Used to distinguish between multiple instances of the same job.</td>
  </tr>
  <tr>
    <td><strong>JOB_ID</strong></td>
    <td>BOSH VM GUID. This is distinct from the CID displayed in the Ops Manager Status tab, which corresponds to the VM ID assigned by the infrastructure provider.</td>
  </tr>
  <tr>
    <td><strong>MESSAGE</strong></td>
    <td>The log message that appears</td>
  </tr>
</table>

###<a id='program-names'></a> RabbitMQ Program Names

<table>
  <thead>
    <th>Program Name</th>
    <th>Description</th>
  </thead>
  <tbody>
    <tr>
      <td><strong>rabbit_server_cluster_check</strong></td>
      <td>Checks that the RabbitMQ cluster is healthy. Runs after every deploy.</td>
    </tr>
    <tr>
      <td><strong>rabbit_server_node_check</strong></td>
      <td>Checks that the RabbitMQ node is healthy. Runs after every deploy.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_route_registrar_stderr</strong></td>
      <td>Registers the route for the management API with the Gorouter in your Elastic Runtime deployment.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_route_registrar_stdout</strong></td>
      <td>Registers the route for the management API with the Gorouter in your Elastic Runtime deployment.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server</strong></td>
      <td>The Erlang VM and RabbitMQ apps. <em>Logs may span multiple lines</em>.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_drain</strong></td>
      <td>Shuts down the Erlang VM and RabbitMQ apps. Runs as part of the BOSH lifecycle.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_http_api_access</strong></td>
      <td>Access to the RabbitMQ management UI.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_init</strong></td>
      <td>Starts the Erlang VM and RabbitMQ.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_post_deploy_stderr</strong></td>
      <td>Runs the node check and cluster check. Runs after every deploy.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_post_deploy_stdout</strong></td>
      <td>Runs the node check and cluster check. Runs after every deploy.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_pre_start</strong></td>
      <td>Runs before the rabbitmq-server job is started.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_sasl</strong></td>
      <td>Supervisor, progress, and crash reporting for the Erlang VM and RabbitMQ apps.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_shutdown_stderr</strong></td>
      <td>Stops the RabbitMQ app and Erlang VM.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_shutdown_stdout</strong></td>
      <td>Stops the RabbitMQ app and Erlang VM.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_startup_stderr</strong></td>
      <td>Starts the RabbitMQ app and Erlang VM, then configures users and permissions.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_startup_stdout</strong></td>
      <td>Starts the RabbitMQ app and Erlang VM, then configures users and permissions.</td>
    </tr>
    <tr>
      <td><strong>rabbitmq_server_upgrade</strong></td>
      <td>Shuts down Erlang VM and RabbitMQ app if required during an upgrade.</td>
    </tr>
  </tbody>
</table>


## <a id="metrics"></a>Metrics

Metrics are regularly-generated log messages that report measured component states. The metrics polling interval defaults to 30 seconds.
This interval is a configuration option on the RabbitMQ tile (**Settings** > **RabbitMQ**).  The interval setting applies to all components deployed by the tile.

Metrics are long, single lines of text that follow the format:

```
origin:"p-rabbitmq" eventType:ValueMetric timestamp:1441188462382091652 deployment:"cf-rabbitmq" job:"cf-rabbitmq-node" index:"0" ip:"10.244.3.46" valueMetric: < name:"/p-rabbitmq/rabbitmq/system/memory" value:1024 unit:"MB">
```

## <a id="kpi"></a>Key Performance Indicators

Key Performance Indicators (KPIs) for RabbitMQ for PCF are metrics that operators find most useful for monitoring their RabbitMQ service to ensure smooth operation. KPIs are high-signal-value metrics that can indicate emerging issues. KPIs can be raw component metrics or _derived_ metrics generated by applying formulas to raw metrics.

Pivotal provides the following KPIs as general alerting and response guidance for typical RabbitMQ for PCF installations. 
Pivotal recommends that operators continue to fine-tune the alert measures to their installation by observing historical trends. 
Pivotal also recommends that operators expand beyond this guidance and create new, installation-specific monitoring
metrics, thresholds, and alerts based on learning from their own installations.

For a list of all RabbitMQ for PCF raw component metrics, see [Component Metrics Reference](#reference).

### <a id="heartbeats"></a>Component Heartbeats

Key RabbitMQ for PCF components periodically emit heartbeat metrics: the RabbitMQ server nodes, HAProxy nodes, and the Service Broker. The heartbeats are Boolean metrics, where <code>1</code> means the system is available, and <code>0</code> or the absence of a heartbeat metric means the service is not responding and should be investigated.

#### <a id="broker-heartbeat"></a> Service Broker Heartbeat

<table>
   <tr><th colspan="2" style="text-align: center;"><br> p-rabbitmq.service_broker.heartbeat<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>RabbitMQ Service Broker <code>is alive</code> poll, which indicates if the component is available and able to respond to requests.<br><br>
   
      <strong>Use</strong>: If the Service Broker does not emit heartbeats, this indicates that it is offline. The Service Broker is required to create, update, and delete service instances, which are critical for dependent tiles such as Spring Cloud Services and Spring Cloud Data Flow. 
      <br><br>
      <strong>Origin</strong>: Doppler/Firehose<br>
      <strong>Type</strong>: boolean<br>
      <strong>Frequency</strong>: 30 s (default), 10 s (configurable minimum)<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over last 5 minutes</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: N/A<br>
      <strong>Red critical</strong>: &lt; 1</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
      Check the RabbitMQ Service Broker logs for errors. You can find this VM by targeting your RabbitMQ deployment with BOSH and running <code>bosh vms</code>. 
      </td>
   </tr>
</table>

#### <a id="server-heartbeat"></a> Server Heartbeat

<table>
   <tr><th colspan="2" style="text-align: center;"><br> p-rabbitmq.rabbitmq.heartbeat<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>RabbitMQ Server <code>is alive</code> poll, which indicates if the component is available and 
          able to respond to requests.<br><br>
   
      <strong>Use</strong>: If the server does not emit heartbeats, this indicates that it is offline. To be functional, service instances require RabbitMQ Server. 
      <br><br>
      <strong>Origin</strong>: Doppler/Firehose<br>
      <strong>Type</strong>: boolean<br>
      <strong>Frequency</strong>: 30 s (default), 10 s (configurable minimum)<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over last 5 minutes</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: N/A<br>
      <strong>Red critical</strong>: &lt; 1</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
         Check the RabbitMQ Server logs for errors. You can find the VM by targeting your RabbitMQ deployment with BOSH and running <code>bosh vms</code>, which lists <code>rabbitmq</code>.

      </td>
   </tr>
</table>

### <a id="server-kpis"></a>RabbitMQ Server KPIs

The following KPIs from the RabbitMQ server component:

#### <a id="file-descriptors"></a> File Descriptors

<table>
   <tr><th colspan="2" style="text-align: center;"><br> p-rabbitmq.rabbitmq.system.file_descriptors<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>File descriptors consumed.<br><br>
   
      <strong>Use</strong>: If the number of file descriptors consumed becomes too large, the VM may lose the ability to perform disk IO, which can cause data loss. 
      <p class="note"><strong>Note</strong>: This assumes non-persistent messages are handled by retries or some other logic by the producers.</p>
      <strong>Origin</strong>: Doppler/Firehose<br>
      <strong>Type</strong>: count<br>
      <strong>Frequency</strong>: 30 s (default), 10 s (configurable minimum)<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over last 10 minutes</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &gt; 50000 <br>
      <strong>Red critical</strong>: &gt; 55000</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>The default <code>ulimit</code> for RabbitMQ for PCF v1.6 and later is 60000. If this metric is met or exceeded for an extended period of time, consider one of the following actions:
      <ul><li>Scaling the rabbit nodes in the tile <b>Resource Config</b> pane.</li>
      <li>Increasing the <code>ulimit</code></li>
      </td>
   </tr>
</table>

#### <a id="erlang-processes"></a> Erlang Processes

<table>
   <tr><th colspan="2" style="text-align: center;"><br> p-rabbitmq.rabbitmq.system.erlang_processes<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td><a href="https://www.erlang.org/docs">Erlang</a> processes consumed by RabbitMQ, which runs on an Erlang VM.<br><br>
   
      <strong>Use</strong>: This is the key indicator of the processing capability of a node.
      <br><br>
      <strong>Origin</strong>: Doppler/Firehose<br>
      <strong>Type</strong>: count<br>
      <strong>Frequency</strong>: 30 s (default), 10 s (configurable minimum)<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over last 10 minutes</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &gt; 900000 <br>
      <strong>Red critical</strong>: &gt; 950000</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>The default Erlang process limit in RabbitMQ for PCF v1.6 and later is 1,048,816. If this metric meets or exceeds the recommended thresholds for extended periods of time, consider scaling the RabbitMQ nodes in the tile <b>Resource Config</b> pane.
      </td>
   </tr>
</table>

### <a id="bosh"></a> BOSH System Metrics

All BOSH-deployed components generate the following system metrics. Coming from RabbitMQ for PCF components, these system metrics serve as KPIs for the RabbitMQ for PCF service.

#### <a id="ram"></a> RAM

<table>
   <tr><th colspan="2" style="text-align: center;"><br> system.mem.percent <br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>RAM being consumed by the <code>p-rabbitmq</code> VM.<br><br>
   
      <strong>Use</strong>: RabbitMQ is considered to be in a good state when it has little or no messages. 
              In other words, "an empty rabbit is a happy rabbit." 
              Alerting on this metric can indicate that there are too few consumers or apps that read messages from the queue.
      <br><br>
      Healthmonitor reports when  RabbitMQ uses more than 40% of its RAM for the past ten minutes. 
      <br><br>
      <strong>Origin</strong>: JMX Bridge or BOSH HM<br>
      <strong>Type</strong>: percent<br>
      <strong>Frequency</strong>: 30 s (default), 10 s (configurable minimum)<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over last 10 minutes</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &gt; 40 <br>
      <strong>Red critical</strong>: &gt; 50</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>Add more consumers to drain the queue as fast as possible. 
      </td>
   </tr>
</table>

#### <a id="cpu"></a> CPU

<table>
   <tr><th colspan="2" style="text-align: center;"><br> system.cpu.percent<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>CPU being consumed by the <code>p-rabbitmq</code> VM.<br><br>
   
      <strong>Use</strong>: A node that experiences context switching or high CPU usage will become unresponsive. 
      This also affects the ability of the node to report metrics.
      <br><br>
      Healthmonitor reports when RabbitMQ uses more than 40% of its CPU for the past ten minutes.
      <br><br>
      <strong>Origin</strong>: JMX Bridge or BOSH HM<br>
      <strong>Type</strong>: percent<br>
      <strong>Frequency</strong>: 30 s (default), 10 s (configurable minimum)<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over last 10 minutes</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &gt; 60 <br>
      <strong>Red critical</strong>: &gt; 75</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td> Remember that "an empty rabbit is a happy rabbit". Add more consumers to drain the queue as fast as possible.
      </td>
   </tr>
</table>

#### <a id="ephemeral-disk"></a> Ephemeral Disk

<table>
   <tr><th colspan="2" style="text-align: center;"><br> system.disk.percent<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Ephemeral Disk being consumed by the <code>p-rabbitmq</code> VM.<br><br>
      <strong>Use</strong>: If system disk fills up, there are too few consumers.
      <br><br>
      Healthmonitor reports when RabbitMQ uses more than 40% of its CPU for the past ten minutes.
      <br><br>
      <strong>Origin</strong>: JMX Bridge or BOSH HM<br>
      <strong>Type</strong>: percent<br>
      <strong>Frequency</strong>: 30 s (default), 10 s (configurable minimum)<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over last 10 minutes</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &gt; 60 <br>
      <strong>Red critical</strong>: &gt; 75</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>Remember that "an empty rabbit is a happy rabbit". Add more consumers to drain the queue as fast as possible.
      </td>
   </tr>
</table>

#### <a id="persistent-disk"></a> Persistent Disk

<table>
   <tr><th colspan="2" style="text-align: center;"><br> persistent.disk.percent<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Persistent Disk being consumed by the <code>p-rabbitmq</code> VM.<br><br>
      <strong>Use</strong>: If system disk fills up, there are too few consumers.
      <br><br>
      Healthmonitor reports when RabbitMQ uses more than 40% of its CPU for the past ten minutes.
      <br><br>
      <strong>Origin</strong>: JMX Bridge or BOSH HM<br>
      <strong>Type</strong>: percent<br>
      <strong>Frequency</strong>: 30 s (default), 10 s (configurable minimum)<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over last 10 minutes</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &gt; 60 <br>
      <strong>Red critical</strong>: &gt; 75</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>Remember that "an empty rabbit is a happy rabbit". Add more consumers to drain the queue as fast as possible.
      </td>
   </tr>
</table>

## <a id="reference"></a>Component Metric Reference

RabbitMQ for PCF component VMs emit the following raw metrics. The full name of the metric follows the format: `/p-rabbitmq/COMPONENT/METRIC-NAME`

### <a id="rabbitmq-metrics"></a>RabbitMQ&nbsp; Server Metrics

RabbitMQ for PCF message server components emit the following metrics. 

<table>
    <tr>
        <th>Full Name</th>
        <th>Unit</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>/p-rabbitmq.rabbitmq.heartbeat</code></td>
        <td>boolean</td>
        <td>Indicates whether the RabbitMQ server is available and able to respond to requests</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/erlang/erlang_processes</code></td>
        <td>count</td>
        <td>The number of Erlang processes</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/system/memory</code></td>
        <td>MB</td>
        <td>The memory in MB used by the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/connections/count</code></td>
        <td>count</td>
        <td>The total number of connections to the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/consumers/count</code></td>
        <td>count</td>
        <td>The total number of consumers registered in the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/delivered</code></td>
        <td>count</td>
        <td>The total number of messages with the status <code>deliver_get</code> on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/delivered_no_ack</code></td>
        <td>count</td>
        <td>The number of messages with the status <code>deliver_no_ack</code> on the node</td>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/delivered_rate</code></td>
        <td>rate</td>
        <td>The rate at which messages are being delivered to consumers or clients on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/published</code></td>
        <td>count</td>
        <td>The total number of messages with the status <code>publish</code> on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/published_rate</code></td>
        <td>rate</td>
        <td>The rate at which messages are being published by the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/redelivered</code></td>
        <td>count</td>
        <td>The total number of messages with the status <code>redeliver</code> on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/redelivered_rate</code></td>
        <td>rate</td>
        <td>The rate at which messages are getting the status <code>redeliver</code> on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/got _no_ack</code></td>
        <td>count</td>
        <td>The number of messages with the status <code>get_no_ack</code> on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/get _no_ack_rate</code></td>
        <td>rate</td>
        <td>The rate at which messages get the status <code>get_no_ack</code> on the node</td>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/pending</code></td>
        <td>count</td>
        <td>The number of messages with the status <code>messages_unacknowledged</code> on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/system/file descriptors</code></td>
        <td>count</td>
        <td>The number of open file descriptors on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/exchanges/count</code></td>
        <td>count</td>
        <td>The total number of exchanges on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/messages/available</code></td>
        <td>count</td>
        <td>The total number of messages with the status <code>messages_ready</code> on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/queues/count</code></td>
        <td>count</td>
        <td>The number of queues on the node</td>
    </tr>
    <tr>
        <td><code>/p-rabbitmq/rabbitmq/channels/count</code></td>
        <td>count</td>
        <td>The number of channels on the node</td>
    </tr>
</table>

### <a id="rabbitmq-broker-metrics"></a>RabbitMQ&nbsp;Service Broker Metric

RabbitMQ for PCF service broker components emit the following metric. 

<table>
    <tr>
        <th>Full Name</th>
        <th>Unit</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>/p-rabbitmq.service_broker.heartbeat</code></td>
        <td>boolean</td>
        <td>Indicates whether the service broker is available and able to respond to requests</td>
    </tr>
</table>
